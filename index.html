<!DOCTYPE html>
	<html lang="en">	
	<head>
		<title>Markdown-to-HTML Sample</title>
		<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css"/>
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/showdown/0.3.1/showdown.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	</head>
	<body style="margin: 10px">





<br/><br/><br/><br/>

<div id="projects_content"></div>

<script>

function loadFileNames(dir) {
    return new Promise((resolve, reject) => {
        try {
            var fileNames = new Array();
            $.ajax({
                url: dir,
                success: function (data) {
                    for(var i = 1; i < $(data).find('li span.name').length; i++){
                        var elem = $(data).find('li span.name')[i];
                        fileNames.push(elem.innerHTML);
                    }
                    return resolve(fileNames);
                }
            });
        } catch (ex) {
            return reject(new Error(ex));
        }
    });
}

loadFileNames('math')
        .then((data) => {
            console.log(data);
        })
        .catch((error) => {
            alert('Files could not be loaded. please check console for details');
            console.error(error);
        });


var pr_content = "";


function load_projects(proj_id){
  if(proj_id <= 0){
    $("#projects_content").append(pr_content);
    update_right_menu();
    return;
  }
  $.get("math/"+proj_id+".html", function(data){
      console.log('+++'+proj_id);
      pr_content += data;

      if(proj_id>1){
        pr_content += "<br/><br/><br/><br/><hr align=\"center\" width=\"100%\" style=\"display:block; height:1px;border:0; border-top:2px solid #222; margin:5px 0 5px 0; padding:0;\"><br/><br/><br/><br/>";
        console.log('A'+proj_id);
      }
      else{
        pr_content += "<br/><br/><br/><br/>";
        console.log('B'+proj_id);
      }
      load_projects(proj_id-1);
  });

}


$(function(){
  $("#projects_content").html("");
  pr_content = "";

  console.log('O');
  //load_projects(6);
});


</script>








    <div data-markdown>

    #Hello

sdf

sdf asdf asdf sdf

$$a^2$$


	var x=1;
	entry.forEach(function(item){
		x=x++;
	})


## sdfsdfdf

		</div>

		<hr/>
		<h2>This is regular HTML</h2>
		<hr/>

		<div data-markdown>
#Hello

sdf

sdf asdf asdf sdf


	var x=1;
	entry.forEach(function(item){
		x=x++;
	})


## sdfsdfdf
		</div>

	
		<script type="text/javascript">
			window.onload=function(){
				// this function is the reverse version of escapeHTML found at 
				// https://github.com/evilstreak/markdown-js/blob/master/src/render_tree.js
				function unescapeHTML( text ) {
				    return text.replace( /&amp;/g, "&" )
				               .replace( /&lt;/g, "<" )
				               .replace( /&gt;/g, ">" )
				               .replace( /&quot;/g, "\"" )
				               .replace( /&#39;/g, "'" );
				  }

				// based on https://gist.github.com/paulirish/1343518
				(function(){
					[].forEach.call( document.querySelectorAll('[data-markdown]'), function fn(elem){
						elem.innerHTML = (new Showdown.converter()).makeHtml(unescapeHTML(elem.innerHTML));
					});
				}());
			}
		</script>
	</body>
</html>                                		


